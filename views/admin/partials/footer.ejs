<!-- footer -->
<footer id="aa-footer">

    <!-- footer bottom -->
    <div class="aa-footer-top">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="aa-footer-top-area">
                        <div class="row">
                            <div class="col-md-3 col-sm-6">
                                <div class="aa-footer-widget">
                                    <h3>Main Menu</h3>
                                    <ul class="aa-footer-nav">
                                        <li><a href="#">Dashboard</a></li>
                                        <li><a href="/admin/acd">Add Cake</a></li>
                                        <li><a href="#">View Cake Details</a></li>
                                        <li><a href="/admin/af">Add Flavour</a></li>
                                        <li><a href="#">Contact Us</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-6">
                                <div class="aa-footer-widget">
                                    <div class="aa-footer-widget">
                                        <h3>Knowledge Base</h3>
                                        <ul class="aa-footer-nav">
                                            <li><a href="#">Delivery</a></li>
                                            <li><a href="#">Returns</a></li>
                                            <li><a href="#">Services</a></li>
                                            <li><a href="#">Discount</a></li>
                                            <li><a href="#">Special Offer</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-6">
                                <div class="aa-footer-widget">
                                    <div class="aa-footer-widget">
                                        <h3>Useful Links</h3>
                                        <ul class="aa-footer-nav">
                                            <li><a href="#">Site Map</a></li>
                                            <li><a href="#">Search</a></li>
                                            <li><a href="#">Advanced Search</a></li>
                                            <li><a href="#">Suppliers</a></li>
                                            <li><a href="#">FAQ</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-6">
                                <div class="aa-footer-widget">
                                    <div class="aa-footer-widget">
                                        <h3>Contact Us</h3>
                                        <address>
                                            <p> kathmandu, Nepal</p>
                                            <p><span class="fa fa-phone"></span>+977 9860355983</p>
                                            <p><span class="fa fa-envelope"></span>dailyshop@gmail.com</p>
                                        </address>
                                        <div class="aa-footer-social">
                                            <a href="#"><span class="fa fa-facebook"></span></a>
                                            <a href="#"><span class="fa fa-twitter"></span></a>
                                            <a href="#"><span class="fa fa-google-plus"></span></a>
                                            <a href="#"><span class="fa fa-youtube"></span></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- footer-bottom -->
    <div class="aa-footer-bottom">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="aa-footer-bottom-area">
                        <p>Designed by Yummy group</p>
                        <div class="aa-footer-payment">
                            <span class="fa fa-cc-mastercard"></span>
                            <span class="fa fa-cc-visa"></span>
                            <span class="fa fa-paypal"></span>
                            <span class="fa fa-cc-discover"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <input id="adminid" placeholder="id">

</footer>
<!-- / footer -->

<!-- Login Modal -->
<div class="modal fade" id="login-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4>Login or Register</h4>
                <form class="aa-login-form" action="">
                    <label for="">Username or Email address<span>*</span></label>
                    <input type="text" placeholder="Username or email">
                    <label for="">Password<span>*</span></label>
                    <input type="password" placeholder="Password">
                    <button class="aa-browse-btn" type="submit">Login</button>
                    <label for="rememberme" class="rememberme"><input type="checkbox" id="rememberme"> Remember me
                    </label>
                    <p class="aa-lost-password"><a href="#">Lost your password?</a></p>
                    <div class="aa-register-now">
                        Don't have an account?<a href="account.html">Register now!</a>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/dashboard/js/bootstrap.js"></script>
<!-- SmartMenus jQuery plugin -->
<script type="text/javascript" src="/dashboard/js/jquery.smartmenus.js"></script>
<!-- SmartMenus jQuery Bootstrap Addon -->
<script type="text/javascript" src="/dashboard/js/jquery.smartmenus.bootstrap.js"></script>
<!-- To Slider JS -->
<script src="/dashboard/js/sequence.js"></script>
<script src="/dashboard/js/sequence-theme.modern-slide-in.js"></script>
<!-- Product view slider -->
<script type="text/javascript" src="/dashboard/js/jquery.simpleGallery.js"></script>
<script type="text/javascript" src="/dashboard/js/jquery.simpleLens.js"></script>
<!-- slick slider -->
<script type="text/javascript" src="/dashboard/js/slick.js"></script>
<!-- Price picker slider -->
<script type="text/javascript" src="/dashboard/js/nouislider.js"></script>
<!-- Custom js -->
<script src="/dashboard/js/custom.js"></script>
<!-- <script src="/js/custom/adminnotoken.js">
</script> -->
<script src="/js/custom/ordercustom.js">
</script>
<script src="/js/custom/adminlogout.js">
</script>
<script src="/js/custom/gift.js"></script>
<script src="/js/custom/dashboard.js"></script>
<script>




    // $(document).ready(function () {
    //     //add cake
    //     $("#addcakeform").submit(function (event) {
    //         event.preventDefault();

    //         const cakedata = {

    //             cakename: $("#cakename").val(),
    //             desc: $("#desc").val(),
    //             flavourtype: $('#flavourtype').val(),
    //             serve: $("#serve").val(),
    //             version: $("#version").val(),
    //             size: $("#size").val(),
    //             price: $("#price").val(),
    //             flavourname: $("#flavourname").val()


    //         }
    //         // console.log(cakedata);

    //         // for (key in noticeData) {
    //         //     console.log(noticeData[key]);
    //         // }

    //         $.ajax({
    //             url: "http://localhost:1234/admin/cakeAdd",
    //             method: "POST",
    //             // contentType: "application/json",
    //             data: JSON.stringify(cakedata),
    //             contentType: "application/json",
    //             dataType: 'json',

    //             success: function (result, status) {
    //                 // window.location.href = "http://localhost:1234/admin/astaff"
    //                 console.log(result);



    //             },
    //             error: function (jqXHR) {
    //                 console.log(jqXHR);
    //                 $("#message").html(jqXHR.responseText);

    //             }
    //         })
    //     })

    $("#addcakeform").submit(function (event) {
        event.preventDefault();
        var formdata = new FormData();
        const cakedata = {
            cakename: $("#cakename").val(),
            desc: $("#desc").val(),
            flavourtype: $('#flavourtype').val(),
            serve: $("#serve").val(),
            version: $("#version").val(),
            size: $("#size").val(),
            price: $("#price").val(),
            flavourname: $("#flavourname").val(),
            cakeimage: $('#cakeimage')[0].files[0]
        }
        console.log(cakedata)
        for (key in cakedata) {
            formdata.append(key, cakedata[key]);
        }
        $.ajax({
            url: "http://localhost:1234/admin/cakeAdd",
            method: "POST",
            processData: false,
            contentType: false,
            data: formdata,
            dataType: 'json',

            success: function (result, status) {
                window.location.href = "http://localhost:1234/admin/acd"
                console.log(result);
            },
            error: function (jqXHR) {
                console.log(jqXHR);
                // $("#message").html(jqXHR.responseText);
                $("#message").html(jqXHR.responseText);
            }
        })
    })

    //deletecake
    $('#cakeList').on('click', '#bdelete', function () {
        console.log($(this)[0].attributes.cid.nodeValue);
        cid = $(this)[0].attributes.cid.nodeValue;
        var deleteConfirm = confirm("Are your Sure??");
        if (deleteConfirm == true) {
            $.ajax({
                url: "http://localhost:1234/admin/cakedelete/" + cid,
                method: "DELETE",
                dataType: 'json',
                success: function (result, status) {
                    window.location.href = "vc"
                    console.log(result.message)
                    $("#message").html(result.message);


                },
                error: function () {


                }


            })
        } else {

        }


    })
    //get individual cake
    $('#cakeList').on('click', '#ucbutton', function () {
        //this is the userid
        cid = $(this)[0].attributes.cid.nodeValue;


        $.ajax({

            url: 'http://localhost:1234/admin/getindividualcake/' + cid,
            method: 'GET',
            dataType: 'json',
            success: function (result) {
                console.log(result);
                $('#cakename').val(result.cake_name)
                $('#flvname').empty().append(result.flavour_name)
                $('#flavourtype').val(result.flavour_type)
                $('#price').val(result.cake_price)
                $('#serve').val(result.serves)
                $('#version').val(result.version)
                $('#size').val(result.pound)
                $('#cakeimage').text(result.cake_image)
                $('#desc').val(result.descriptions)



            },
            error: function () {

            }
        })


    })


    var flavourname = new Array();
    //get flavour data in onclick in select option
    $('#cakeList').on('click', '#ucbutton', function () {
        $.ajax({
            url: 'http://localhost:1234/admin/gffso/',
            method: 'GET',
            dataType: 'json',
            success: function (result) {
                // flavourname.pop();
                // flavourname.push(result);
                // $.each(flavourname, function (index, flvdata) {
                var len = result.length;

                $("#flavourname").empty();
                // for( var i = 0; i<len; i++){
                //     var id = response[i]['id'];
                //     var name = response[i]['name'];
                for (key = 0; key < result.length; key++) {

                    console.log(result[key].flavour_name);
                    // $("#sel_user").append("<option value='" + id + "'>" + name + "</option>");

                    $('#flavourname').append("<option>" + result[key].flavour_name + "</option>")
                    // $(".dynm_drop").clone().appendTo("class or id of element");
                }

                // })
                // $('#flvname').hide()
            },
            error: function (err) {
                console.log(err)
            }
        })
    });

    //update cake
    var cid;
    $("#updatecake1").submit(function (e) {
        e.preventDefault();
        var updatecake = {
            cakename: $('#cakename').val(),
            flavourname: $('#flavourname').val(),
            flavourtype: $('#flavourtype').val(),
            price: $('#price').val(),
            version: $('#version').val(),
            cakeimage: $("#cakeimage").val(),
            size: $("#size").val(),
            serve: $("#serve").val(),
            desc: $("#desc").val()





            // $('#flvname').empty().append(result.flavour_name)
            // $('#flavourtype').val(result.flavour_type)
            // $('#price').val(result.cake_price)
            // $('#serve').val(result.serves)
            // $('#version').val(result.version)
            // $('#size').val(result.pound)
            // $('#cakeimage').text(result.cake_image)
            // $('#desc').val(result.descriptions)

        }
        $.ajax({
            url: 'http://localhost:1234/admin/updatecake/' + cid, // here uid has already been set to actual userid in previous funciton when edit is clicked, since uid is global
            method: "PUT",
            contentType: 'application/json',
            dataType: 'json',
            // headers: { 'authorization': 'Bearer' + window.localStorage.getItem('token') },
            data: JSON.stringify(updatecake),
            success: function (result) {
                console.log(result)
                console.log("cake data updated")

                // window.location.href = "Medicineinfo.html"
                // your logic here , redirect to another page or show message etc
            },
            error: function (jqXHR) {
                $("#message").html(jqXHR.responseText);
                // alert($("#message").innerhtml(jqXHR.responseText);
                // console.log($("#message").html(jqXHR.responseText))


            }

        })
    });

    //add staff
    $("#addstaffform").submit(function (event) {
        event.preventDefault();

        const staffdata = {

            staff_firstname: $("#staff_firstname").val(),
            staff_lastname: $("#staff_lastname").val(),
            saddress: $('#saddress').val(),
            email: $("#email").val(),
            department: $("#department").val(),
            phonenumber: $("#phonenumber").val()


        }

        // for (key in noticeData) {
        //     console.log(noticeData[key]);
        // }

        $.ajax({
            url: "http://localhost:1234/admin/as",
            method: "POST",
            // contentType: "application/json",
            data: JSON.stringify(staffdata),
            contentType: "application/json",
            dataType: 'json',

            success: function (result, status) {
                window.location.href = "http://localhost:1234/admin/astaff"
                console.log(result);



            },
            error: function (jqXHR) {
                console.log(jqXHR);
                $("#message").html(jqXHR.responseText);

            }
        })
    })

    //deletestaff
    $('#staffList').on('click', '#bdelete', function () {
        console.log($(this)[0].attributes.sid.nodeValue);
        sid = $(this)[0].attributes.sid.nodeValue;
        var deleteConfirm = confirm("Are your Sure??");
        if (deleteConfirm == true) {
            $.ajax({
                url: "http://localhost:1234/admin/staffdelete/" + sid,
                method: "DELETE",
                dataType: 'json',
                success: function (result, status) {
                    window.location.href = "http://localhost:1234/admin/vstaff"
                    console.log(result.message)
                    $("#message").html(result.message);


                },
                error: function () {


                }


            })
        } else {

        }


    })

    //getindividual staff data
    $('#staffList').on('click', '#usbutton', function () {
        //this is the userid
        sid = $(this)[0].attributes.sid.nodeValue;
        console.log(sid)


        $.ajax({

            url: 'http://localhost:1234/admin/getindividualstaff/' + sid,
            method: 'GET',
            dataType: 'json',
            success: function (result) {
                console.log(result);
                $('#sfname').val(result.first_name)
                $('#slname').val(result.last_name)
                $('#saddress').val(result.address)
                $('#phonenumber').val(result.phonenumber)
                $('#department').val(result.department)
                $('#email').val(result.email)




            },
            error: function () {

            }
        })


    })

    //update individual staff
    var sid;
    $("#updatestaff1").submit(function (e) {
        e.preventDefault();
        //     alert("yes");
        // })
        var updatestaff = {
            sfname: $('#sfname').val(),
            slname: $('#slname').val(),
            saddress: $('#saddress').val(),
            email: $("#email").val(),
            department: $("#department").val(),
            phonenumber: $("#phonenumber").val()

        }
        $.ajax({
            url: 'http://localhost:1234/admin/updatestaff/' + sid, // here uid has already been set to actual userid in previous funciton when edit is clicked, since uid is global
            method: "PUT",
            contentType: 'application/json',
            dataType: 'json',
            data: JSON.stringify(updatestaff),
            success: function (result) {
                console.log(result)


                // window.location.href = "Medicineinfo.html"
                // your logic here , redirect to another page or show message etc
            },
            error: function (jqXHR) {
                console.log(jqXHR)
                // $("#message").html(jqXHR.responseText);
                // alert($("#message").innerhtml(jqXHR.responseText);
                // console.log($("#message").html(jqXHR.responseText))


            }

        })

        //geting login admin data
        var adminid = window.localStorage.getItem('admin_id');
        $.ajax({

            url: 'http://localhost:1234/admin/profiledata' + adminid,
            method: 'GET',
            dataType: 'json',
            // headers: { 'authorization': 'Bearer ' + window.localStorage.getItem('token') },
            success: function (result, status) {
                console.log(result)




            },
            error: function (jqXHR, status) {
                // console.log(jqXHR);
            }
        })


    });




</script>

</body>

</html>